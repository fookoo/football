<div style="max-width: 660px; margin: 0 auto; padding: 40px 0;">
    {{ ctrl.sort }}
    <md-content layout-padding>
        <div class="md-table" layout="column">
            <header flex>
                <div layout="row">
                    <div flex="5" class="left">LP.</div>
                    <div flex="45" class="left" ng-click="ctrl.setSort('player.name')">NAZWA</div>
                    <!-- points -->
                    <div flex  ng-click="ctrl.setSort('points')">PKT</div>

                    <div flex ng-click="ctrl.setSort('history.length')">M</div>

                    <div flex ng-click="ctrl.setSort('games.win')">W</div>
                    <div flex ng-click="ctrl.setSort('games.draw')">R</div>
                    <div flex ng-click="ctrl.setSort('games.lose')">P</div>

                    <div flex ng-click="ctrl.setSort('goals.shoot')">+</div>
                    <div flex ng-click="ctrl.setSort('goals.lose')">-</div>
                </div>
            </header>
            <div class="md-table-row" flex ng-repeat="item in ctrl.table | orderBy: ctrl.sort track by $index ">
                <div layout="row" class="cells" ng-click="item.show = !item.show" ng-class="{selected: item.show}   ">
                    <div flex="5" class="left">{{ $index + 1}}</div>
                    <div flex="45" class="left">{{ item.player.name }}</div>
                    <!-- points -->
                    <div class="points" flex>{{ item.points }}</div>

                    <div flex>{{ item.history.length }}</div>


                    <div flex>{{ item.games.win }}</div>
                    <div flex>{{ item.games.draw }}</div>
                    <div flex>{{ item.games.lose }}</div>

                    <div flex class="balance-1">{{ item.goals.shoot }}</div>
                    <div flex class="balance-2">{{ item.goals.lose }}</div>
                </div>
                <section class="history" ng-show="item.show">
                    <div layout="row" class="cells" ng-repeat="match in item.history track by $index">
                        <div flex="5"></div>
                        <div flex="45" class="left">{{ match.home.name }} vs {{ match.away.name}}</div>
                        <div flex  class="left">{{ match.score.home }} : {{ match.score.away }}</div>
                    </div>
                </section>
            </div>
            <footer flex>
                <div layout="row">
                    <div flex>
                        <form ng-submit="ctrl.addPlayer()">
                            <md-input-container>
                                <label>Nickname</label>
                                <input name="nickname" ng-model="ctrl.nickname" md-maxlength="16" required>
                            </md-input-container>
                        </form>
                    </div>
                </div>
            </footer>
        </div>
    </md-content>
    <md-content layout-padding>
        <div class="md-matches" layout="column" ng-repeat="match in ctrl.matches track by $index">

            <div flex layout="row">
                <div flex>
                    <md-select ng-model="match.home">
                        <md-option ng-value="{{ player }}" ng-repeat="player in ctrl.players">{{ player.name }}</md-option>
                    </md-select>
                </div>
                <div flex="5" style="line-height: 80px">vs</div>
                <div flex>
                    <div flex>
                        <md-select ng-model="match.away">
                            <md-option ng-value="{{ player }}" ng-repeat="player in ctrl.players">{{ player.name }}
                            </md-option>
                        </md-select>
                    </div>
                </div>
            </div>

            <div flex layout="row"  layout-align="center center">
                <div flex>
                    <input name="home" ng-model="match.score.home" required>
                </div>
                <div flex="5">:</div>
                <div flex>
                    <input name="away" ng-model="match.score.away" required>
                </div>
            </div>

            <div  flex layout="row" >
                <div class="action" flex>
                    <md-button class="md-primary md-raised" ng-click="ctrl.addMatch(match)">Zapisz</md-button>
                </div>
            </div>

        </div>
    </md-content>
</div>
